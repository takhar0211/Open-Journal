{% extends 'base.html' %}

{% block content %}

<!-- Hero Section -->

{% if hero_post %}
<a href="{% url 'blogs' hero_post.blog_slug %}" class="text-decoration-none text-white">

    <div class="hero-section mb-5"
        style="background-image: url('{{ hero_post.featured_image.url }}');
               background-size: cover;
               background-position: center;
               background-repeat: no-repeat;">

        <h1 class="display-5 fw-bold">
            {{ hero_post.title }}
        </h1>

        <p class="lead mt-3">
            {{ hero_post.short_desc|truncatewords:25 }}
        </p>

        <span class="btn btn-light btn-sm mt-2">
            Continue Reading →
        </span>

    </div>

</a>
{% endif %}


<!-- Featured Posts -->
<h3 class="section-title mb-4"> Featured Posts</h3>
<div class="row mb-4">
    {% for post in featured_posts %}
    <div class="col-md-6 mb-3">

        <a href="{%url 'blogs' post.blog_slug%}" class="text-decoration-none text-dark">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-body">
                    <h4 class="card-title">{{post.title}}</h4>
                    <small class="text-muted">{{post.created_at | timesince}} ago | {{post.author}}</small>
                    <p class="card-text mt-2">
                        {{post.short_desc |truncatewords:20}}
                    </p>
                </div>
            </div>
        </a>
    </div>
    {% endfor %}
</div>

<!-- Main Content -->
<h3 class="section-title mb-4">Recent Posts</h3>
<div class="row">

    <!-- LEFT SIDE -->
    <div class="col-md-8">
        <div class="row g-4">
            {% for post in recent_post %}
            <div class="col-md-6">

                <div class="card border-0 shadow-sm h-100 featured-card">
                    <div class="card-body d-flex flex-column">

                        <div class="mb-2">
                            <span class="badge bg-dark">
                                {{ post.category }}
                            </span>
                        </div>

                        <h4 class="card-title fw-semibold">
                            {{ post.title }}
                        </h4>

                        <small class="text-muted mb-2">
                            {{ post.created_at|timesince }} ago
                            • {{ post.author }}
                        </small>

                        <p class="card-text text-muted">
                            {{ post.short_desc|truncatewords:20 }}
                        </p>

                        <div class="mt-auto">
                            <a href="{%url 'blogs' post.blog_slug%}" class="btn btn-outline-dark btn-sm">
                                Read More →
                            </a>
                        </div>

                    </div>
                </div>

            </div>
            {% endfor %}
        </div>

    </div>

    <!-- RIGHT SIDE -->

    <div class="col-md-4">
        <div class="blog-sidebar mb-4">
            <h5>About</h5>
            <p>
                Etiam porta sem malesuada magna mollis euismod.
                Cras mattis consectetur purus sit amet fermentum.
            </p>
        </div>

        <div class="blog-sidebar">
            <h5>Follow Us</h5>
            <ul class="list-unstyled">
                <li><a href="#">GitHub</a></li>
                <li><a href="#">LinkedIn</a></li>
            </ul>
        </div>
    </div>

</div>

</div>


{% endblock %}